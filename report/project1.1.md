# تمرین گروهی ۱.۱ - گزارش

## گروه ۲

## نام و آدرس پست الکترونیکی اعضای گروه


محمد مهدی صادقی moh02sadeghi@gmail.com

آرش یادگاری arashyadegari0402@gmail.com

محمد خسروی mohamad138121@gmail.com

عرفان مجیبی mojibierfan@gmail.com


## توضیحات کلی پیاده سازی
### پاس دادن آرگومان‌ها
در تابع load 
پردازش بر روی استرینگ file_name انجام می‌شود و این رشته توکینایز می‌شود و در نتیجه
مقدار argc و آرایه argv که مورد نیاز ما هستند مشخص می‌شوند.
سپس این مقادیر به تابع setup_stack
پاس داده می‌شوند که وظیفه پوش کردن آنها در استک را انجام دهد تا توسط برنامه در حال اجرا خوانده شوند.

توجه کنید ابتدا خود رشته‌ها در استک پوش می‌شوند، سپس آدرس آنها پوش می‌شود، و در انتها argc و argv که ورودی‌های برنامه هستند روی آنها پوش می‌شوند.
### سیستم‌کال‌های پردازه‌ها
**practice**

صرفا آرگومان را یکی زیاد می‌کند و بر‌می‌گرداند.

**halt**

صرفا ```shutdown_power_off``` را فراخوانی می‌کند.

**wait**


**exec**


**exit**


### سیستم‌کال‌های فایل‌ها
**create**

ابتدا معتبر بودن آرگومان‌ها (آدرس و طول اسم فایل)
بررسی می‌شود و در صورتی که درست باشد با استفاده از تابع
```filesys_create```
فایل ساخته می‌شود.

**open**

ابتدا معتبر بودن آرگومان‌ها (آدرس و طول اسم فایل)
بررسی می‌شود و در صورتی که درست باشد با استفاده از تابع
```filesys_open```
فایل باز می‌شود.
سپس به فایل باز شده یک fd تخصیص داده می‌شود که ریترن می‌شود.

**read**


**write**


**close**

ابتدا ریسه کنونی را دریافت کرده و سپس بررسی می‌کنیم که ```file descriptor``` معتبر است یا خیر. معتبر بودن ```file descriptor``` به این معنا است که فایلی که به آن اشاره می‌کند، باز باشد و مقدار خود آن نیز معتبر باشد. در صورت معتبر نبودن مقدار معادل با خطا برگرندانده می‌شود و در صورت معتبر بودن مقدار اشاره‌گر به فایل را به -۱ تغییر می‌دهیم. این بدین معنا است که این ```file descriptor``` آزاد است و می‌توان از آن برای باز کردن یک فایل دیگر استفاده کرد.
در نهایت در صورت موفقیت آمیز بودن عملیات مقدار ۱ در ثبات ‍‍```eax``` ذخیره‌ می‌شود.


**filesize**


**seek**

این دستور به ما امکان می‌دهد تا با مشخص کردن یک ```position``` و یک ```file descriptor``` مقادی مدنظر را در یک موقیعت خاص بنویسیم و یا از آن مکان بخوانیم.


**tell**

این دستور به ما این امکان را می‌دهد تا موقیت کنونی خوانش و یا نوشته شدن بر روی یک فایل را بدست آوریم. قابل ذکر است که این موقعیت نسبت به اول فایل سنجیده می‌شود. در صورت معتبر بودن آدرس فایل، خروجی ۱ در ثبات ```eax``` ذخیره می‌شود.

## تغییرات نسبت به سند طراحی



## وظایف افراد
همه اعضای گروه در جریان پیاده‌سازی بخش‌های مختلف بودند و جلسات زیادی از پیاده‌سازی به صورت چهار نفره برگزار شد، اما بعضی بخش‌ها نیز به صورت جداگانه بر عهده افراد قرار گرفت تا انجام شود.